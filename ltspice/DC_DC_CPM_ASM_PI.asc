Version 4
SHEET 1 1460 980
WIRE 768 16 736 16
WIRE 944 16 768 16
WIRE 1072 16 1024 16
WIRE 1200 16 1072 16
WIRE 1216 16 1200 16
WIRE 304 112 48 112
WIRE 336 112 304 112
WIRE 736 128 736 16
WIRE 48 160 48 112
WIRE 336 160 336 112
WIRE 1072 160 1072 16
WIRE 1216 160 1216 16
WIRE 48 304 48 240
WIRE 336 304 336 240
WIRE 336 304 48 304
WIRE 736 304 736 208
WIRE 1072 304 1072 224
WIRE 1072 304 736 304
WIRE 1216 304 1216 240
WIRE 1216 304 1072 304
WIRE 48 320 48 304
WIRE 736 320 736 304
WIRE 48 448 48 432
WIRE 240 448 240 432
WIRE 640 448 464 448
WIRE 784 448 736 448
WIRE 464 528 464 448
WIRE 48 544 48 528
WIRE 240 544 240 528
WIRE 464 624 464 608
FLAG 304 112 v_1
FLAG 48 320 0
FLAG 48 432 v_ref
FLAG 48 544 0
FLAG 736 320 0
FLAG 240 432 d
FLAG 240 544 0
FLAG 1200 16 v_o
FLAG 768 16 v_2
FLAG 784 448 i_c
FLAG 464 448 v_err
FLAG 464 624 0
SYMBOL ind 928 32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L_o
SYMATTR Value {L_o}
SYMBOL cap 1056 160 R0
SYMATTR InstName C_o
SYMATTR Value {C_o}
SYMBOL res 1200 144 R0
SYMATTR InstName R1
SYMATTR Value {R}
SYMBOL bi 336 160 R0
SYMATTR InstName B1
SYMATTR Value I=V(i_c)
SYMBOL voltage 48 432 R0
WINDOW 3 24 152 Left 2
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value {V_o}
SYMATTR Value2 AC 1
SYMATTR InstName V_i_c
SYMBOL voltage 240 432 R0
SYMATTR InstName V_d
SYMATTR Value {D}
SYMBOL bi 736 208 R180
WINDOW 0 24 80 Left 2
WINDOW 3 -293 -5 Left 2
SYMATTR InstName B2
SYMATTR Value I=V(i_c)*V(v_1)/V(v_2)
SYMBOL voltage 48 144 R0
SYMATTR InstName V1
SYMATTR Value {V_g}
SYMBOL PID 688 448 R0
WINDOW 39 11 60 Center 2
WINDOW 40 -2 36 Center 2
SYMATTR InstName U1
SYMATTR SpiceLine Kp=0.0005025 Ki=0.75 Kd=0
SYMATTR SpiceLine2 Ts=1u
SYMBOL bv 464 512 R0
SYMATTR InstName B4
SYMATTR Value V=V(v_ref)-V(v_o)
TEXT 632 -152 Left 2 !.param L_o=50m C_o=33u R=100 V_g=400 I_c=5 D=0.3 n=3 V_o=10
TEXT 640 -88 Left 2 !.ac dec 1000 1 1e10
TEXT 640 -56 Left 2 !;.tran 0 11m 10m
