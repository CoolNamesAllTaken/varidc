Version 4
SHEET 1 1448 812
WIRE 656 16 624 16
WIRE 832 16 656 16
WIRE 960 16 912 16
WIRE 1088 16 960 16
WIRE 1104 16 1088 16
WIRE 304 112 48 112
WIRE 336 112 304 112
WIRE 624 128 624 16
WIRE 48 160 48 112
WIRE 336 160 336 112
WIRE 960 160 960 16
WIRE 1104 160 1104 16
WIRE 48 304 48 240
WIRE 336 304 336 240
WIRE 336 304 48 304
WIRE 624 304 624 208
WIRE 960 304 960 224
WIRE 960 304 624 304
WIRE 1104 304 1104 240
WIRE 1104 304 960 304
WIRE 48 320 48 304
WIRE 624 320 624 304
WIRE 1008 496 768 496
WIRE 1136 496 1104 496
WIRE 96 528 96 512
WIRE 544 528 544 512
WIRE 768 528 768 496
WIRE 96 624 96 608
WIRE 544 624 544 608
WIRE 768 624 768 608
FLAG 304 112 v_1
FLAG 48 320 0
FLAG 624 320 0
FLAG 544 512 d
FLAG 544 624 0
FLAG 1088 16 v_o
FLAG 656 16 v_2
FLAG 96 512 v_ref
FLAG 96 624 0
FLAG 768 496 v_err
FLAG 768 624 0
FLAG 1136 496 i_c
SYMBOL ind 816 32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L_o
SYMATTR Value {L_o}
SYMBOL cap 944 160 R0
SYMATTR InstName C_o
SYMATTR Value {C_o}
SYMBOL res 1088 144 R0
SYMATTR InstName R1
SYMATTR Value {R}
SYMBOL bi 336 160 R0
SYMATTR InstName B1
SYMATTR Value I=V(i_c)
SYMBOL voltage 544 512 R0
SYMATTR InstName V_d
SYMATTR Value {D}
SYMBOL bi 624 208 R180
WINDOW 0 24 80 Left 2
WINDOW 3 -293 -5 Left 2
SYMATTR InstName B2
SYMATTR Value I=V(i_c)*V(v_1)/V(v_2)
SYMBOL voltage 48 144 R0
SYMATTR InstName V1
SYMATTR Value {V_g}
SYMBOL PID 1056 496 R0
SYMATTR InstName U1
SYMATTR SpiceLine Kp=0.0005025 Ki=.75 Kd=0
SYMBOL voltage 96 512 R0
WINDOW 3 24 152 Left 2
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 20 0 50m 50m 150m 500m)
SYMATTR Value2 AC 1
SYMATTR InstName V2
SYMBOL bv 768 512 R0
SYMATTR InstName B3
SYMATTR Value V=V(v_ref)-V(v_o)
TEXT 632 -152 Left 2 !.param L_o=50m C_o=33u R=10 V_g=400 I_c=5 D=0.3 n=3
TEXT 640 -88 Left 2 !;ac dec 1000 1 1e10
TEXT 640 -56 Left 2 !.tran 0 1 0 1u
